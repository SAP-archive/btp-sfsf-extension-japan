version: '2'
services:
    config-server:
        container_name: app
        build:
            context: .
            dockerfile: Dockerfile.app
        image: app:latest
        expose:
            - 8080
        ports:
            - 8080:8080
            - 465:465
        networks:
            - spring-network
        environment:
            - VCAP_SERVICES={  "workflow":[    {    "label":"workflow",    "provider":null,    "plan":"standard",    "name":"workflow_mta",    "tags":[],    "instance_name":"workflow_mta",    "binding_name":null,    "credentials":{      "endpoints":{      "workflow_odata_url":"https://api.workflow-sap.cfapps.jp10.hana.ondemand.com/workflow-service/odata",      "workflow_rest_url":"https://api.workflow-sap.cfapps.jp10.hana.ondemand.com/workflow-service/rest"      },      "html5-apps-repo":{      "app_host_id":"3abb1f70-c5c0-4940-bf25-0bb2c82bd4a6,24b9519b-f314-42fe-80f0-7a8a5ab5b7c7,63ba7b8d-a764-4dc6-a5e9-a29a88419546,41063a3b-bcba-450d-8bc9-0a2cccad7c68"      },      "portal_content_provider":{      "instance_id":"5029e671-076c-4efd-b6f5-390c14c159af"      },      "uaa":{      "tenantmode":"dedicated",      "sburl":"https://internal-xsuaa.authentication.jp10.hana.ondemand.com",      "subaccountid":"5c089416-5bd2-4080-825b-9f68db62fcf5",      "clientid":"sb-clone-011a6e0c-7c6d-46c5-a107-4e15b0416b9c!b341|workflow!b117",      "xsappname":"clone-011a6e0c-7c6d-46c5-a107-4e15b0416b9c!b341|workflow!b117",      "clientsecret":"3a957caf-b84f-4c11-87b3-054fea0e815c$$c31Z377twV0fM-clenDn_qdG8DuRoA_tgIOtQsCuAOg=",      "url":"https://sapjp-sfsf-template.authentication.jp10.hana.ondemand.com",      "uaadomain":"authentication.jp10.hana.ondemand.com",      "verificationkey":"-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlYXYK0J5qC7E9pchnverSj+/5TaWRVBw6NouYTe5bcM10IJ/4ao/gwozZSvje5emsLqZ7WhwmbEWyyndxIMVSsqUybYZN7v8SRtuGu6vj6m1QI0Pr3XbMQw6WWu7l9oxa4ZhZaiHiguMWYtESfzuy9MZUWxMy/Z18X2sLl89Rbj/Is9KEXZgmy08A0QtSF7bZcAi4jBAcC78vay151izUhxa6sScgYirzN+BsKhWWExxHtNoVZ5A+WDJltIZcwo5YCVLMhfE+pUnE93lxmTHjimmOHvW1YgcslIvVlPr8jFWo9l/SkEGSPD/k8uB5GhTK9jazwrlabd5paVs9F2iEwIDAQAB-----END PUBLIC KEY-----",      "apiurl":"https://api.authentication.jp10.hana.ondemand.com",      "identityzone":"sapjp-sfsf-template",      "identityzoneid":"5c089416-5bd2-4080-825b-9f68db62fcf5",      "tenantid":"5c089416-5bd2-4080-825b-9f68db62fcf5",      "zoneid":"5c089416-5bd2-4080-825b-9f68db62fcf5"      },      "sap.cloud.service":"com.sap.bpm.workflow",      "saasregistryappname":"workflow",      "content_endpoint":"https://api.workflow-sap.cfapps.jp10.hana.ondemand.com/workflow-deploy/rest/internal/v1"    },    "syslog_drain_url":null,    "volume_mounts":[]    }  ],  "hana":[    {    "label":"hana",    "provider":null,    "plan":"hdi-shared",    "name":"hdi_db",    "tags":[      "hana",      "database",      "relational"    ],    "instance_name":"hdi_db",    "binding_name":null,    "credentials":{      "host":"34ec79c2-011c-4d5b-acb3-e95f5bc5cf9d.hana.prod-jp10.hanacloud.ondemand.com",      "port":"443",      "driver":"com.sap.db.jdbc.Driver",      "url":"jdbc:sap://34ec79c2-011c-4d5b-acb3-e95f5bc5cf9d.hana.prod-jp10.hanacloud.ondemand.com:443?encrypt=true&validateCertificate=true&currentschema=225CC428077245238189EF8AE3D4F0CF",      "schema":"225CC428077245238189EF8AE3D4F0CF",      "hdi_user":"225CC428077245238189EF8AE3D4F0CF_1GD8VDUVRT1MY8VOJ3NKA7VON_DT",      "hdi_password":"Ch9UUHbhPsdxasiv.1j5NkQiDB-7nfneVUeZoiM4srOduHtlR6NUNp_s_HdTunsY_k7Bh30m-0FN5mk2acuTlbfXmLC3ndpV6v31.fvlgdrhRewH1mPhIv3BtCmcBlff",      "user":"225CC428077245238189EF8AE3D4F0CF_1GD8VDUVRT1MY8VOJ3NKA7VON_RT",      "password":"Aq8AQ7HjJ.Hmugfgesx0ojUEZLT-GI3eWNAqMH52CDC1LPnxnUCgE.r_NWchnLrXS5TBabmIv6gPkPZmQVoNfuC5zsqsIx73d5LyUVY-2pJkXAAyoYnoR5LOlQvOUecg",      "certificate":"-----BEGIN CERTIFICATE-----\nMIIDrzCCApegAwIBAgIQCDvgVpBCRrGhdWrJWZHHSjANBgkqhkiG9w0BAQUFADBh\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\nd3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD\nQTAeFw0wNjExMTAwMDAwMDBaFw0zMTExMTAwMDAwMDBaMGExCzAJBgNVBAYTAlVT\nMRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5j\nb20xIDAeBgNVBAMTF0RpZ2lDZXJ0IEdsb2JhbCBSb290IENBMIIBIjANBgkqhkiG\n9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4jvhEXLeqKTTo1eqUKKPC3eQyaKl7hLOllsB\nCSDMAZOnTjC3U/dDxGkAV53ijSLdhwZAAIEJzs4bg7/fzTtxRuLWZscFs3YnFo97\nnh6Vfe63SKMI2tavegw5BmV/Sl0fvBf4q77uKNd0f3p4mVmFaG5cIzJLv07A6Fpt\n43C/dxC//AH2hdmoRBBYMql1GNXRor5H4idq9Joz+EkIYIvUX7Q6hL+hqkpMfT7P\nT19sdl6gSzeRntwi5m3OFBqOasv+zbMUZBfHWymeMr/y7vrTC0LUq7dBMtoM1O/4\ngdW7jVg/tRvoSSiicNoxBN33shbyTApOB6jtSj1etX+jkMOvJwIDAQABo2MwYTAO\nBgNVHQ8BAf8EBAMCAYYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUA95QNVbR\nTLtm8KPiGxvDl7I90VUwHwYDVR0jBBgwFoAUA95QNVbRTLtm8KPiGxvDl7I90VUw\nDQYJKoZIhvcNAQEFBQADggEBAMucN6pIExIK+t1EnE9SsPTfrgT1eXkIoyQY/Esr\nhMAtudXH/vTBH1jLuG2cenTnmCmrEbXjcKChzUyImZOMkXDiqw8cvpOp/2PV5Adg\n06O/nVsJ8dWO41P0jmP6P6fbtGbfYmbW0W5BjfIttep3Sp+dWOIrWcBAI+0tKIJF\nPnlUkiaY4IBIqDfv8NZ5YBberOgOzW6sRBc4L0na4UU+Krk2U886UAb3LujEV0ls\nYSEY1QSteDwsOoBrp+uvFRTp2InBuThs4pFsiv9kuXclVzDAGySj4dzp30d8tbQk\nCAUw7C29C79Fv1C5qfPrmAESrciIxpg0X40KPMbp1ZWVbd4=\n-----END CERTIFICATE-----"    },    "syslog_drain_url":null,    "volume_mounts":[]    }  ],  "xsuaa":[    {    "label":"xsuaa",    "provider":null,    "plan":"application",    "name":"uaa_Reshuffle",    "tags":[      "xsuaa"    ],    "instance_name":"uaa_Reshuffle",    "binding_name":null,    "credentials":{      "tenantmode":"dedicated",      "sburl":"https://internal-xsuaa.authentication.jp10.hana.ondemand.com",      "subaccountid":"5c089416-5bd2-4080-825b-9f68db62fcf5",      "clientid":"sb-Reshuffle_Configuration!t341",      "xsappname":"Reshuffle_Configuration!t341",      "clientsecret":"tRGixhYvRX0wtRUwIs7+veCcmHQ=",      "url":"https://sapjp-sfsf-template.authentication.jp10.hana.ondemand.com",      "uaadomain":"authentication.jp10.hana.ondemand.com",      "verificationkey":"-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlYXYK0J5qC7E9pchnverSj+/5TaWRVBw6NouYTe5bcM10IJ/4ao/gwozZSvje5emsLqZ7WhwmbEWyyndxIMVSsqUybYZN7v8SRtuGu6vj6m1QI0Pr3XbMQw6WWu7l9oxa4ZhZaiHiguMWYtESfzuy9MZUWxMy/Z18X2sLl89Rbj/Is9KEXZgmy08A0QtSF7bZcAi4jBAcC78vay151izUhxa6sScgYirzN+BsKhWWExxHtNoVZ5A+WDJltIZcwo5YCVLMhfE+pUnE93lxmTHjimmOHvW1YgcslIvVlPr8jFWo9l/SkEGSPD/k8uB5GhTK9jazwrlabd5paVs9F2iEwIDAQAB-----END PUBLIC KEY-----",      "apiurl":"https://api.authentication.jp10.hana.ondemand.com",      "identityzone":"sapjp-sfsf-template",      "identityzoneid":"5c089416-5bd2-4080-825b-9f68db62fcf5",      "tenantid":"5c089416-5bd2-4080-825b-9f68db62fcf5",      "zoneid":"5c089416-5bd2-4080-825b-9f68db62fcf5"    },    "syslog_drain_url":null,    "volume_mounts":[]    }  ],  "jobscheduler":[    {    "label":"jobscheduler",    "provider":null,    "plan":"lite",    "name":"my-job-scheduler",    "tags":[      "jobscheduler"    ],    "instance_name":"my-job-scheduler",    "binding_name":null,    "credentials":{      "url":"https://jobscheduler-rest.cfapps.jp10.hana.ondemand.com",      "xsappname":"jobscheduler",      "clientid":"sb-jobscheduler",      "identityzone":"uaa",      "user":"sbss_i4ghnolxg8//6gf7i3+xoxfrn/swimtmxmelb8yklnqvnm+xgn+jd0yrikwary4zfse=",      "password":"aa_dDZv3iHINhLNoiIGZXHsVANmAiA="    },    "syslog_drain_url":null,    "volume_mounts":[]    }  ],  "destination":[    {    "label":"destination",    "provider":null,    "plan":"lite",    "name":"dest_Reshuffle_Simulation",    "tags":[      "destination",      "conn",      "connsvc"    ],    "instance_name":"dest_Reshuffle_Simulation",    "binding_name":null,    "credentials":{      "uaadomain":"authentication.jp10.hana.ondemand.com",      "tenantmode":"dedicated",      "clientid":"sb-cloned58dcd95d51f4f47876d142c721e1aef!b341|destination-xsappname!b5",      "instanceid":"d58dcd95-d51f-4f47-876d-142c721e1aef",      "verificationkey":"-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlYXYK0J5qC7E9pchnverSj+/5TaWRVBw6NouYTe5bcM10IJ/4ao/gwozZSvje5emsLqZ7WhwmbEWyyndxIMVSsqUybYZN7v8SRtuGu6vj6m1QI0Pr3XbMQw6WWu7l9oxa4ZhZaiHiguMWYtESfzuy9MZUWxMy/Z18X2sLl89Rbj/Is9KEXZgmy08A0QtSF7bZcAi4jBAcC78vay151izUhxa6sScgYirzN+BsKhWWExxHtNoVZ5A+WDJltIZcwo5YCVLMhfE+pUnE93lxmTHjimmOHvW1YgcslIvVlPr8jFWo9l/SkEGSPD/k8uB5GhTK9jazwrlabd5paVs9F2iEwIDAQAB-----END PUBLIC KEY-----",      "xsappname":"cloned58dcd95d51f4f47876d142c721e1aef!b341|destination-xsappname!b5",      "identityzone":"sapjp-sfsf-template",      "clientsecret":"/u04LYiGP6hl6KtCdOu9inuzxhQ=",      "tenantid":"5c089416-5bd2-4080-825b-9f68db62fcf5",      "uri":"https://destination-configuration.cfapps.jp10.hana.ondemand.com",      "url":"https://sapjp-sfsf-template.authentication.jp10.hana.ondemand.com"    },    "syslog_drain_url":null,    "volume_mounts":[]    }  ]  } 
            - VCAP_APPLICATION={}
        mem_limit: 2g
networks:
    spring-network:
        driver: bridge
                    
